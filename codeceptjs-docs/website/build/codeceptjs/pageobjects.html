<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Page Objects · CodeceptJS</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="UI of your web application has interaction areas which can be shared across different tests."/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Page Objects · CodeceptJS"/><meta property="og:type" content="website"/><meta property="og:url" content="https://codecept.io/"/><meta property="og:description" content="UI of your web application has interaction areas which can be shared across different tests."/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/img/favicon/favicon.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-dark.min.css"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-30075781-3"></script><script>
              window.dataLayer = window.dataLayer || [];
              function gtag(){dataLayer.push(arguments); }
              gtag('js', new Date());
              gtag('config', 'UA-30075781-3');
            </script><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans"/><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://platform.twitter.com/widgets.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/logo.svg" alt="CodeceptJS"/><h2 class="headerTitleWithLogo">CodeceptJS</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/quickstart" target="_self">Quickstart</a></li><li class="siteNavGroupActive"><a href="/basics" target="_self">Guides</a></li><li class=""><a href="/reference" target="_self">API</a></li><li class=""><a href="/changelog" target="_self">Releases</a></li><li class=""><a href="/help" target="_self">Support</a></li><li class=""><a href="https://github.com/Codeception/CodeceptJS" target="_self">GitHub</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Organizing Tests</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Web Testing</h3><ul class=""><li class="navListItem"><a class="navItem" href="/basics">Basics</a></li><li class="navListItem"><a class="navItem" href="/webdriver">Testing with WebDriver</a></li><li class="navListItem"><a class="navItem" href="/puppeteer">Testing with Puppeteer</a></li><li class="navListItem"><a class="navItem" href="/testcafe">Testing with TestCafe</a></li><li class="navListItem"><a class="navItem" href="/angular">Testing with Protractor</a></li><li class="navListItem"><a class="navItem" href="/nightmare">Testing with Nightmare</a></li><li class="navListItem"><a class="navItem" href="/visual">Visual Testing</a></li><li class="navListItem"><a class="navItem" href="/email">Email Testing</a></li><li class="navListItem"><a class="navItem" href="/react">Testing React Applications</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Mobile Testing</h3><ul class=""><li class="navListItem"><a class="navItem" href="/mobile">Mobile Testing with Appium</a></li><li class="navListItem"><a class="navItem" href="/detox">Testing React Native with Detox</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Organizing Tests</h3><ul class=""><li class="navListItem"><a class="navItem" href="/best">Best Practices</a></li><li class="navListItem"><a class="navItem" href="/locators">Locators</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/pageobjects">Page Objects</a></li><li class="navListItem"><a class="navItem" href="/helpers">Custom Helpers</a></li><li class="navListItem"><a class="navItem" href="/bdd">Behavior Driven Development</a></li><li class="navListItem"><a class="navItem" href="/data">Data Management</a></li><li class="navListItem"><a class="navItem" href="/parallel">Parallel Execution</a></li><li class="navListItem"><a class="navItem" href="/reports">Reporters</a></li><li class="navListItem"><a class="navItem" href="/advanced">Advanced Usage</a></li><li class="navListItem"><a class="navItem" href="/hooks">Bootstrap / Teardown / Plugins</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Tutorials</h3><ul class=""><li class="navListItem"><a class="navItem" href="/books">Books &amp; Posts</a></li><li class="navListItem"><a class="navItem" href="/videos">Videos</a></li><li class="navListItem"><a class="navItem" href="/examples">Examples</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/Codeception/CodeceptJS/blob/master/docs/pageobjects.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 class="postHeaderTitle">Page Objects</h1></header><article><div><span><p>UI of your web application has interaction areas which can be shared across different tests.
To avoid code duplication you can put common locators and methods into one place.</p>
<h2><a class="anchor" aria-hidden="true" id="dependency-injection"></a><a href="#dependency-injection" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Dependency Injection</h2>
<p>All objects described here are injected with Dependency Injection. The similar way it happens in AngularJS framework. If you want an object to be injected in scenario by its name add it to configuration:</p>
<pre><code class="hljs css language-js">  include: {
    <span class="hljs-attr">I</span>: <span class="hljs-string">"./custom_steps.js"</span>,
    <span class="hljs-attr">Smth</span>: <span class="hljs-string">"./pages/Smth.js"</span>,
    <span class="hljs-attr">loginPage</span>: <span class="hljs-string">"./pages/Login.js"</span>,
    <span class="hljs-attr">signinFragment</span>: <span class="hljs-string">"./fragments/Signin.js"</span>
  }
</code></pre>
<p>Now this objects can be retrieved by the name specified in configuration.</p>
<p>Required objects can be obtained via parameters in tests or via global <code>inject()</code> call.</p>
<pre><code class="hljs css language-js"><span class="hljs-comment">// globally inject objects by name</span>
<span class="hljs-keyword">const</span> { <span class="hljs-built_in">I</span>, myPage, mySteps } = inject();

<span class="hljs-comment">// inject objects for a test by name</span>
<span class="hljs-keyword">Scenario</span>(<span class="hljs-string">'sample test'</span>, (<span class="hljs-built_in">I</span>, myPage, mySteps) =&gt; {
  <span class="hljs-comment">// ...</span>
})
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="actor"></a><a href="#actor" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Actor</h2>
<p>At initialization you were asked to create custom steps file. If you accepted this option you may use <code>custom_steps.js</code> file to extend <code>I</code>. See how <code>login</code> method can be added to <code>I</code>:</p>
<pre><code class="hljs css language-js"><span class="hljs-built_in">module</span>.exports = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">return</span> actor({

    <span class="hljs-attr">login</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">email, password</span>) </span>{
      <span class="hljs-keyword">this</span>.fillField(<span class="hljs-string">'Email'</span>, email);
      <span class="hljs-keyword">this</span>.fillField(<span class="hljs-string">'Password'</span>, password);
      <span class="hljs-keyword">this</span>.click(<span class="hljs-string">'Submit'</span>);
    }
  });
}
</code></pre>
<blockquote>
<p>ℹ Instead of <code>I</code> you should use <code>this</code> in current context.</p>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="pageobject"></a><a href="#pageobject" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>PageObject</h2>
<p>In case an application has different pages (login, admin, etc) you should use a page object.
CodeceptJS can generate a template for it with the command:</p>
<pre><code class="hljs css language-sh">npx codeceptjs gpo
</code></pre>
<p>This will create a sample template for a page object and include it into <code>codecept.json</code> config.</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> { <span class="hljs-built_in">I</span>, otherPage } = inject();

<span class="hljs-built_in">module</span>.exports = {

  <span class="hljs-comment">// insert your locators and methods here</span>
}
</code></pre>
<p>As you see, <code>I</code> object is available there so you can use it as you do in tests.
General page object for a login page may look like this:</p>
<pre><code class="hljs css language-js"><span class="hljs-comment">// enable I and another page object</span>
<span class="hljs-keyword">const</span> { <span class="hljs-built_in">I</span>, registerPage } = inject();

<span class="hljs-built_in">module</span>.exports = {

  <span class="hljs-comment">// setting locators</span>
  fields: {
    <span class="hljs-attr">email</span>: <span class="hljs-string">'#user_basic_email'</span>,
    <span class="hljs-attr">password</span>: <span class="hljs-string">'#user_basic_password'</span>
  },
  <span class="hljs-attr">submitButton</span>: {<span class="hljs-attr">css</span>: <span class="hljs-string">'#new_user_basic input[type=submit]'</span>},

  <span class="hljs-comment">// introducing methods</span>
  sendForm(email, password) {
    <span class="hljs-built_in">I</span>.fillField(<span class="hljs-keyword">this</span>.fields.email, email);
    <span class="hljs-built_in">I</span>.fillField(<span class="hljs-keyword">this</span>.fields.password, password);
    <span class="hljs-built_in">I</span>.click(<span class="hljs-keyword">this</span>.submitButton);
  },

  register(email, password) {
    <span class="hljs-comment">// use another page object inside current one</span>
    registerPage.registerUser({ email, password });
  }
}
</code></pre>
<p>You can include this pageobject in test by its name (defined in <code>codecept.json</code>). In case you created a <code>loginPage</code> object
it should be added to list of test arguments to be included in test:</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">Scenario</span>(<span class="hljs-string">'login'</span>, (<span class="hljs-built_in">I</span>, loginPage) =&gt; {
  loginPage.sendForm(<span class="hljs-string">'john@doe.com'</span>,<span class="hljs-string">'123456'</span>);
  <span class="hljs-built_in">I</span>.see(<span class="hljs-string">'Hello, John'</span>);
});
</code></pre>
<p>Also you can use <code>async/await</code> inside PageObject:</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> { <span class="hljs-built_in">I</span> } = inject();

<span class="hljs-built_in">module</span>.exports = {

  <span class="hljs-comment">// setting locators</span>
  container: <span class="hljs-string">"//div[@class = 'numbers']"</span>,
  <span class="hljs-attr">mainItem</span>: {
    <span class="hljs-attr">number</span>: <span class="hljs-string">".//div[contains(@class, 'numbers__main-number')]"</span>,
    <span class="hljs-attr">title</span>: <span class="hljs-string">".//div[contains(@class, 'numbers__main-title-block')]"</span>
  },

  <span class="hljs-comment">// introducing methods</span>
  <span class="hljs-keyword">async</span> openMainArticle() {
    <span class="hljs-built_in">I</span>.waitForVisible(<span class="hljs-keyword">this</span>.container)
    <span class="hljs-keyword">let</span> _this = <span class="hljs-keyword">this</span>
    <span class="hljs-keyword">let</span> title;
    <span class="hljs-keyword">await</span> <span class="hljs-built_in">within</span>(<span class="hljs-keyword">this</span>.container, <span class="hljs-keyword">async</span> () =&gt; {
      title = <span class="hljs-keyword">await</span> <span class="hljs-built_in">I</span>.grabTextFrom(_this.mainItem.number);
      <span class="hljs-keyword">let</span> subtitle = <span class="hljs-keyword">await</span> <span class="hljs-built_in">I</span>.grabTextFrom(_this.mainItem.title);
      title = title + <span class="hljs-string">" "</span> + subtitle.charAt(<span class="hljs-number">0</span>).toLowerCase() + subtitle.slice(<span class="hljs-number">1</span>);
      <span class="hljs-keyword">await</span> <span class="hljs-built_in">I</span>.click(_this.mainItem.title)
    })
    <span class="hljs-keyword">return</span> title;
  }
}
</code></pre>
<p>and use them in your tests:</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">Scenario</span>(<span class="hljs-string">'login2'</span>, <span class="hljs-keyword">async</span> (<span class="hljs-built_in">I</span>, loginPage, basePage) =&gt; {
  <span class="hljs-keyword">let</span> title = <span class="hljs-keyword">await</span> mainPage.openMainArticle()
  basePage.pageShouldBeOpened(title)
});
</code></pre>
<p>Page Objects can be be functions, arrays or classes. When declared page objects as classes you can easily extend them in other page objects.</p>
<p>Here is an example of declaring page object as a class:</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> { expect } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'chai'</span>);
<span class="hljs-keyword">const</span> { <span class="hljs-built_in">I</span> } = inject();

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AttachFile</span> </span>{
  <span class="hljs-keyword">constructor</span>() {
    <span class="hljs-keyword">this</span>.inputFileField = <span class="hljs-string">'input[name=fileUpload]'</span>;
    <span class="hljs-keyword">this</span>.fileSize = <span class="hljs-string">'.file-size'</span>;
    <span class="hljs-keyword">this</span>.fileName = <span class="hljs-string">'.file-name'</span>
  }

  <span class="hljs-keyword">async</span> attachFileFrom(path) {
    <span class="hljs-keyword">await</span> <span class="hljs-built_in">I</span>.waitForVisible(<span class="hljs-keyword">this</span>.inputFileField)
    <span class="hljs-keyword">await</span> <span class="hljs-built_in">I</span>.attachFile(<span class="hljs-keyword">this</span>.inputFileField, path)
  }

  <span class="hljs-keyword">async</span> hasFileSize(fileSizeText) {
    <span class="hljs-keyword">await</span> <span class="hljs-built_in">I</span>.waitForElement(<span class="hljs-keyword">this</span>.fileSize)
    <span class="hljs-keyword">const</span> size = <span class="hljs-keyword">await</span> <span class="hljs-built_in">I</span>.grabTextFrom(<span class="hljs-keyword">this</span>.fileSize)
    expect(size).toEqual(fileSizeText)
  }

  <span class="hljs-keyword">async</span> hasFileSizeInPosition(fileNameText, position) {
    <span class="hljs-keyword">await</span> <span class="hljs-built_in">I</span>.waitNumberOfVisibleElements(<span class="hljs-keyword">this</span>.fileName, position)
    <span class="hljs-keyword">const</span> text = <span class="hljs-keyword">await</span> <span class="hljs-built_in">I</span>.grabTextFrom(<span class="hljs-keyword">this</span>.fileName)
    expect(text[position - <span class="hljs-number">1</span>]).toEqual(fileNameText)
  }
}

<span class="hljs-comment">// For inheritance</span>
exports.AttachFile = AttachFile
<span class="hljs-built_in">module</span>.exports = <span class="hljs-keyword">new</span> AttachFile();
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="page-fragments"></a><a href="#page-fragments" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Page Fragments</h2>
<p>In a similar manner CodeceptJS allows you to generate <strong>PageFragments</strong> and any other are abstraction
by running <code>go</code> command with <code>--type</code> (or <code>-t</code>) option:</p>
<pre><code class="hljs css language-sh">npx codeceptjs go --<span class="hljs-built_in">type</span> fragment
</code></pre>
<p>Page Fragments represent autonomous parts of a page, like modal boxes, components, widgets.
Technically they are the same as PageObject but conceptually they are a bit different.
For instance, it is recommended that Page Fragment to include a root locator of a component.
Methods of page fragment can use <code>within</code> block to narrow scope to a root locator:</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> { <span class="hljs-built_in">I</span> } = inject();
<span class="hljs-comment">// fragments/modal.js</span>
<span class="hljs-built_in">module</span>.exports = {

  <span class="hljs-attr">root</span>: <span class="hljs-string">'#modal'</span>,

  <span class="hljs-comment">// we are clicking "Accept: inside a popup window</span>
  accept() {
    <span class="hljs-built_in">within</span>(<span class="hljs-keyword">this</span>.root, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
      <span class="hljs-built_in">I</span>.click(<span class="hljs-string">'Accept'</span>);
    });
  }
}
</code></pre>
<p>To use a Page Fragment within a Test Scenario just inject it into your Scenario:</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">Scenario</span>(<span class="hljs-string">'failed_login'</span>, <span class="hljs-keyword">async</span> (<span class="hljs-built_in">I</span>, loginPage, modal) =&gt; {
  loginPage.sendForm(<span class="hljs-string">'john@doe.com'</span>,<span class="hljs-string">'wrong password'</span>);
  <span class="hljs-built_in">I</span>.waitForVisible(modal.root);
  <span class="hljs-built_in">within</span>(modal.root, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-built_in">I</span>.see(<span class="hljs-string">'Login failed'</span>);
  })
});
</code></pre>
<p>To use a Page Fragment within a Page Object, you can use <code>inject</code> method to get it by its name.</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> { <span class="hljs-built_in">I</span>, modal } = inject();

<span class="hljs-built_in">module</span>.exports = {
  doStuff() {
    ...
    modal.accept();
    ...
  }
}
</code></pre>
<blockquote>
<p>PageObject and PageFragment names are declared inside <code>include</code> section of <code>codecept.conf.js</code>. See <a href="#dependency-injection">Dependency Injection</a></p>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="stepobjects"></a><a href="#stepobjects" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>StepObjects</h2>
<p>StepObjects represent complex actions which involve usage of multiple web pages. For instance, creating users in backend, changing permissions, etc.
StepObject can be created similarly to PageObjects or PageFragments:</p>
<pre><code class="hljs css language-sh">npx codeceptjs go --<span class="hljs-built_in">type</span> step
</code></pre>
<p>Technically they are the same as PageObjects. StepObjects can inject PageObjects and use multiple POs to make a complex scenarios:</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> { <span class="hljs-built_in">I</span>, userPage, permissionPage } = inject();

<span class="hljs-built_in">module</span>.exports = {

  createUser(name) {
    <span class="hljs-comment">// action composed from actions of page objects</span>
    userPage.open();
    userPage.create(name);
    permissionPage.activate(name);
  }

};
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="dynamic-injection"></a><a href="#dynamic-injection" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Dynamic Injection</h2>
<p>You can inject objects per test by calling <code>injectDependencies</code> function on Scenario:</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">Scenario</span>(<span class="hljs-string">'search @grop'</span>, (<span class="hljs-built_in">I</span>, Data) =&gt; {
  <span class="hljs-built_in">I</span>.fillField(<span class="hljs-string">'Username'</span>, Data.username);
  <span class="hljs-built_in">I</span>.pressKey(<span class="hljs-string">'Enter'</span>);
}).injectDependencies({ <span class="hljs-attr">Data</span>: <span class="hljs-built_in">require</span>(<span class="hljs-string">'./data.js'</span>) });
</code></pre>
<p>This requires <code>./data.js</code> module and assigns it to <code>Data</code> argument in a test.</p>
</span></div></article></div><div class="docLastUpdate"><em>Last updated on 2019-9-24</em></div><div class="docs-prevnext"><a class="docs-prev button" href="/locators"><span class="arrow-prev">← </span><span>Locators</span></a><a class="docs-next button" href="/helpers"><span>Custom Helpers</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#dependency-injection">Dependency Injection</a></li><li><a href="#actor">Actor</a></li><li><a href="#pageobject">PageObject</a></li><li><a href="#page-fragments">Page Fragments</a></li><li><a href="#stepobjects">StepObjects</a></li><li><a href="#dynamic-injection">Dynamic Injection</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/logo.svg" alt="CodeceptJS" width="66" height="58"/></a><div><h5>Docs</h5><a href="/quickstart">QuickStart</a><a href="/basics">Guides</a><a href="/reference">Reference</a></div><div><h5>Community</h5><a href="https://join.slack.com/t/codeceptjs/shared_invite/enQtMzA5OTM4NDM2MzA4LWE4MThhN2NmYTgxNTU5MTc4YzAyYWMwY2JkMmZlYWI5MWQ2MDM5MmRmYzZmYmNiNmY5NTAzM2EwMGIwOTNhOGQ">Slack Chat</a><a href="https://codecept.discourse.group" target="_blank" rel="noreferrer noopener">Community Forum</a><a href="http://stackoverflow.com/questions/tagged/codeceptjs" target="_blank" rel="noreferrer noopener">Stack Overflow</a><a href="https://twitter.com/codeceptjs" target="_blank" rel="noreferrer noopener">Twitter</a></div><div><h5>More</h5><a href="https://github.com/Codeception/CodeceptJS">GitHub</a><a class="github-button" data-icon="octicon-star" data-count-href="/codeception/codeceptjs/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a><a href="http://sdclabs.com/codeceptjs?utm_source=codecept.io&amp;utm_medium=footer&amp;utm_term=link&amp;utm_campaign=reference">Commercial Support</a><a href="http://sdclabs.com/trainings/web-automation-codeceptjs?utm_source=codecept.io&amp;utm_medium=top_menu&amp;utm_term=link&amp;utm_campaign=reference">Trainings</a></div></section><section class="copyright">Copyright © 2019 CodeceptJS</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '0cc13a0af567a05fc38790be681b1491',
                indexName: 'codecept',
                inputSelector: '#search_input_react',
                algoliaOptions: {}
              });
            </script></body></html>